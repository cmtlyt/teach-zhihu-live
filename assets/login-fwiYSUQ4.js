import{d as m,r as b,a as f,h as a,l as t,J as p,aa as _,u as d,ab as v,f as c}from"./vue-vendor-34kU-HAr.js";import{h as k,A as w,R as y,S as r}from"./request-PEqo4-UL.js";function C(e){const{data:s}=e,{accessToken:o,refreshToken:i}=s;return localStorage.setItem(w,o),localStorage.setItem(y,i),e}async function x(e){return k.post("/api/login",e).then(C)}const S={class:"bg"},E={class:"box"},L=t("div",{class:"header"},[t("h2",null,"知乎")],-1),N={class:"main"},T=v('<div class="leftmain"><div class="top"><h3 class="one">打开知乎App</h3><span class="two">在「我的页」右上角打开扫一扫</span><div class="img"><img src="" alt=""></div><span class="three">其他扫码方式：微信</span></div><div class="bottom"><ul><li>下载知乎App</li><li>开通机构号</li><li>无障碍模式</li></ul></div></div>',1),V={class:"rightmain"},A={class:"top"},I={key:0,id:"CodeLogin"},K=v('<div><button id="choseLocation">中国+86</button><input type="text" placeholder="请输入手机号"></div><div><input type="text" placeholder="获取短信验证码"><button id="getCode">获取短信验证码</button></div><div style="border:none;display:block;"><button id="getSpeechCode">获取语音验证码</button></div><button id="loginorreg">登录/注册</button>',4),B=[K],P={key:1,id:"PasswordLogin"},R=t("div",{style:{border:"none",display:"block"}},[t("button",{id:"overseasLogin"},"海外手机登录"),t("button",{id:"forgetP"},"忘记密码")],-1),H={class:"bottom"},O=t("span",null," 未注册手机验证后自动登录，注册即代表同意《知乎协议》《隐私保护指引》 ",-1),Y=m({__name:"login",setup(e){const s=b(!0),o=f({name:"",password:""});function i(){x(o).then(u=>{console.debug(u)})}const h=()=>{s.value=!0},g=()=>{s.value=!1};return(u,n)=>(c(),a("div",S,[t("div",E,[L,t("div",N,[T,t("div",V,[t("div",A,[t("div",{class:"logway"},[t("ul",null,[t("li",{role:"button",onClick:h},"验证码登录"),t("li",{role:"button",onClick:g},"密码登录")])]),s.value?(c(),a("div",I,B)):(c(),a("div",P,[t("div",null,[p(t("input",{"onUpdate:modelValue":n[0]||(n[0]=l=>o.name=l),type:"text",placeholder:"手机号或邮箱"},null,512),[[_,o.name]])]),t("div",null,[p(t("input",{"onUpdate:modelValue":n[1]||(n[1]=l=>o.password=l),type:"text",placeholder:"密码"},null,512),[[_,o.password]])]),R,t("button",{id:"loginorreg",onClick:i},"登录/注册")]))]),t("div",H,[t("ul",null,[t("li",null,[d(r,{name:"QQ",alt:""})]),t("li",null,[d(r,{name:"wx",alt:""})]),t("li",null,[d(r,{name:"weibo",alt:""})])]),O])])])])]))}});export{Y as default};
